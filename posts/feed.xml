<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>rono23</title>
  <id>https://rono23.com/posts</id>
  <link href="https://rono23.com/posts"/>
  <link href="https://rono23.com/posts/feed.xml" rel="self"/>
  <updated>2020-02-12T00:00:00+09:00</updated>
  <author>
    <name>rono23</name>
  </author>
  <entry>
    <title>Appleã§ã‚µã‚¤ãƒ³ã‚¤ãƒ³ã®ãƒˆãƒ¼ã‚¯ãƒ³æ¤œè¨¼</title>
    <link rel="alternate" href="https://rono23.com/posts/verify-sign-in-with-apple-token/"/>
    <id>https://rono23.com/posts/verify-sign-in-with-apple-token/</id>
    <published>2020-02-12T00:00:00+09:00</published>
    <updated>2020-02-12T22:42:24+09:00</updated>
    <author>
      <name>rono23</name>
    </author>
    <content type="html">&lt;h4&gt;ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;# Gemfile
gem &amp;#39;jwt&amp;#39;

# ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰é€ã‚‰ã‚Œã¦ããŸãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
token = &amp;#39;identityToken&amp;#39;
code = &amp;quot;authorizationCode&amp;#39;
&lt;/code&gt;&lt;/pre&gt;

&lt;h4&gt;ç½²åæ¤œè¨¼&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;url = &amp;quot;https://appleid.apple.com/auth/keys&amp;quot;
jwks = JSON.parse(open(url).read, symbolize_names: true)
algorithms = jwks[:keys].map { |key| key[:alg] } # or tokenã®Headerã®:alg
decoded_token = JWT.decode(token, nil, true, algorithms: algorithms, jwks: jwks)

# 1ã¤ã®JWKã ã‘æ¤œè¨¼ã—ãŸã„ã¨ã
jwk = jwks[:keys].first
public_key = JWT::JWK.import(jwk).keypair.public_key # or `JWT::JWK::RSA.import(jwk).public_key`
decoded_token = JWT.decode(token, public_key, true, algorithm: &amp;quot;RS256&amp;quot;)

# æœŸé™ã¯10åˆ†ãªã®ã§æ³¨æ„
JWT.decode(...) #=&amp;gt; JWT::ExpiredSignature: Signature has expired
&lt;/code&gt;&lt;/pre&gt;

&lt;h4&gt;authorizationCodeã®æ¤œè¨¼&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;# https://openid.net/specs/openid-connect-core-1_0.html#CodeValidation
digest = Digest::SHA256.digest(code)
c_hash = Base64.urlsafe_encode64(digest[0, digest.size/2], padding: false)
decoded_token[0][&amp;quot;c_hash&amp;quot;] == c_hash
&lt;/code&gt;&lt;/pre&gt;

&lt;h4&gt;nonceã®æ¤œè¨¼&lt;/h4&gt;

&lt;p&gt;ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®å®Ÿè£…ã¯&lt;a href="https://github.com/firebase/quickstart-ios/blob/112bdec24e30b333a14ca72b5976afe3d765e1b1/authentication/AuthenticationExampleSwift/MainViewController.swift#L816"&gt;firebase/quickstart-ios&lt;/a&gt;ãŒå‚è€ƒã«ãªã‚‹ã‹ã‚‚ã€‚&lt;br&gt;
iOS 13ã‹ã‚‰&lt;a href="https://developer.apple.com/documentation/cryptokit"&gt;CryptoKit&lt;/a&gt;ãŒå°å…¥ã•ã‚ŒãŸã®ã§ã€quickstart-iosçš„ãªnonceã®ç”Ÿæˆã¯ä»¥ä¸‹ã¿ãŸã„ãªæ„Ÿã˜ã§ã‚‚OKã‹ãª ğŸ¤”&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
import CryptoKit

let uuid = CFUUIDCreateString(nil, CFUUIDCreate(nil))!
let rawNonce = NSString(string: uuid).replacingOccurrences(of: &amp;quot;-&amp;quot;, with: &amp;quot;&amp;quot;)
let data = rawNonce.data(using: .utf8)!
request.nonce = SHA256.hash(data: data).compactMap { String(format: &amp;quot;%02x&amp;quot;, $0) }.joined()

# ã‚µãƒ¼ãƒãƒ¼
decoded_token[0][&amp;quot;nonce&amp;quot;] == Digest::SHA256.hexdigest(rawNonce)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;iOS 12ä»¥ä¸‹ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã‚‹å ´åˆã€&lt;a href="https://developer.apple.com/library/archive/documentation/MacOSX/Conceptual/BPFrameworks/Concepts/WeakLinking.html#//apple_ref/doc/uid/20002378-107026"&gt;weak link&lt;/a&gt;ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã§å¿˜ã‚Œãšã«ã€‚&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Targets &amp;gt; APP &amp;gt; Build Settings &amp;gt; Other Linker Flags ã« &lt;code&gt;-weak_framework CryptoKit&lt;/code&gt; ã‚’è¿½åŠ &lt;/p&gt;
&lt;/blockquote&gt;

&lt;h4&gt;ãƒªãƒ³ã‚¯&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href="https://openid-foundation-japan.github.io/draft-ietf-oauth-json-web-token-11.ja.html"&gt;JSON Web Token (JWT)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://openid-foundation-japan.github.io/draft-ietf-jose-json-web-signature-14.ja.html#kidDef"&gt;JSON Web Signature (JWS)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://openid-foundation-japan.github.io/rfc7517.ja.html#kidDef"&gt;JSON Web Key (JWK)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/jwt/ruby-jwt"&gt;jwt/ruby-jwt&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://developer.apple.com/documentation/signinwithapplerestapi"&gt;Sign in with Apple REST API | Apple Developer Documentation&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;hr&gt;

&lt;p&gt;JWTã¯æ›–æ˜§ãªç†è§£ã€JWSã‚„JWKã¯çŸ¥ã‚‰ãªã‹ã£ãŸã®ã§ã€è‰²ã€…ã¨å‹‰å¼·ã«ãªã‚Šã¾ã—ãŸ ğŸ’ª&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>fastlaneã®add_badgeã§æ•°å­—ãŒæ½°ã‚Œã‚‹</title>
    <link rel="alternate" href="https://rono23.com/posts/shrunk-badge/"/>
    <id>https://rono23.com/posts/shrunk-badge/</id>
    <published>2019-08-22T00:00:00+09:00</published>
    <updated>2020-02-12T09:56:41+09:00</updated>
    <author>
      <name>rono23</name>
    </author>
    <content type="html">&lt;p&gt;ã‚¢ãƒ—ãƒªã®ã‚¢ã‚¤ã‚³ãƒ³ã«ãƒ“ãƒ«ãƒ‰ç•ªå·ãªã©ã‚’è¿½åŠ ã—ã¦ãŸã‘ã©ã€ãã®æ•°å­—ãŒ&lt;a href="https://github.com/HazAT/badge/issues/91"&gt;æ½°ã‚Œã‚‹å•é¡Œ&lt;/a&gt;ãŒç™ºç”Ÿã€‚&lt;br&gt;
&lt;code&gt;pango 1.42.4&lt;/code&gt; ã ã¨OKã¨ã‚³ãƒ¡ãƒ³ãƒˆãŒã‚ã£ãŸã®ã§ã€å–ã‚Šæ€¥ãå¤ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦å¯¾å‡¦ã§ããŸã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;cd /usr/local/Homebrew/Library/Taps/homebrew/homebrew-core/Formula

## You need to fetch when commit log was grafted
# git log pango.rb
# git fetch --depth 50000

git checkout a8ac7ea5fe9339558c9fbe49acaa1a2452bcd4d0 pango.rb
brew reinstall pango
brew pin pango
git reset --hard
brew list --versions | grep pango #=&amp;gt; pango 1.42.4_2
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;pin&lt;/code&gt; ã—ãŸã®ã§ã€å¯¾å¿œã•ã‚ŒãŸã‚‰ &lt;code&gt;unpin&lt;/code&gt; ã—ã¦æ›´æ–°ã™ã‚Œã°OKã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;brew unpin pango
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿½è¨˜ï¼šã‚‚ã£ã¨ç°¡å˜ãªã‚„ã‚Šæ–¹ãŒ&lt;a href="https://github.com/HazAT/badge/issues/91#issuecomment-534866597"&gt;ã‚³ãƒ¡ãƒ³ãƒˆ&lt;/a&gt;ã•ã‚Œã¦ã¾ã—ãŸã€‚&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>TestFlightã®ãƒ†ã‚¹ãƒˆå†…å®¹ã®å¿…é ˆæ–‡å­—æ•°ãŒå¤‰æ›´</title>
    <link rel="alternate" href="https://rono23.com/posts/testflight-whats-new-error/"/>
    <id>https://rono23.com/posts/testflight-whats-new-error/</id>
    <published>2019-07-22T00:00:00+09:00</published>
    <updated>2020-02-11T23:08:43+09:00</updated>
    <author>
      <name>rono23</name>
    </author>
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;Spaceship::UnexpectedResponse: [!] An attribute value has text that is too short. - Text for whatsNew is too short.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Bitriseä¸Šã§å°‘ã—å‰ã‹ã‚‰ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹ã‚ˆã†ã«ãªã£ã¦èª¿ã¹ã¦ã¿ãŸã‚‰ã€TestFlightã®ãƒ†ã‚¹ãƒˆå†…å®¹ã®å¿…é ˆæ–‡å­—æ•°ãŒå¤‰æ›´ã«ãªã£ãŸã£ã½ã„ ğŸ¤”&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;ãƒ†ã‚¹ãƒˆå†…å®¹ã¯4æ–‡å­—ä»¥ä¸Šã§ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;code&gt;App Store Connect&lt;/code&gt; &amp;gt; &lt;code&gt;TestFlight&lt;/code&gt; &amp;gt; ã‚¢ãƒ—ãƒªé¸æŠ &amp;gt; &lt;code&gt;ãƒ†ã‚¹ãƒˆã®è©³ç´°&lt;/code&gt; ã§ &lt;code&gt;ãƒ†ã‚¹ãƒˆå†…å®¹&lt;/code&gt; ã‚’9æ–‡å­—ä»¥ä¸‹ã§ä¿å­˜ã™ã‚‹ã¨ã‚¨ãƒ©ãƒ¼ï¼ˆ5æ–‡å­—ä»¥ä¸Šã§ã‚‚åŒã˜ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸â€¦ï¼‰ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# Fastlane
- pilot(changelog: &amp;quot;9æ–‡å­—ä»¥ä¸‹&amp;quot;, ...)
+ pilot(changelog: &amp;quot;10æ–‡å­—ä»¥ä¸Šã®ãƒ†ã‚­ã‚¹ãƒˆ&amp;quot;, ...)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;10æ–‡å­—ä»¥ä¸Šã«å¤‰æ›´ã—ãŸã‚‰ ğŸ™†ğŸ‰&lt;/p&gt;

&lt;hr&gt;

&lt;p&gt;æœ€è¿‘ã€æœˆ1ã§Bitrise or Fastlaneã§èº“ã„ã¦ã‚‹æ°—ãŒã™ã‚‹â€¦ ğŸ˜­&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>2019å¹´ä¸ŠåŠæœŸã«èª­ã‚“ã§é¢ç™½ã‹ã£ãŸæœ¬</title>
    <link rel="alternate" href="https://rono23.com/posts/books-i-read-in-the-first-half-of-2019/"/>
    <id>https://rono23.com/posts/books-i-read-in-the-first-half-of-2019/</id>
    <published>2019-06-29T00:00:00+09:00</published>
    <updated>2020-02-11T23:08:43+09:00</updated>
    <author>
      <name>rono23</name>
    </author>
    <content type="html">&lt;h4&gt;å°èª¬&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;ã‚¹ãƒˆãƒ¼ãƒŠãƒ¼ï¼ˆã‚¸ãƒ§ãƒ³ãƒ»ã‚¦ã‚£ãƒªã‚¢ãƒ ã‚ºã€æ±æ±Ÿä¸€ç´€è¨³ï¼‰

&lt;ul&gt;
&lt;li&gt;åŠ©æ•™æˆã¨ã—ã¦ç”ŸããŸç”·æ€§ã®ä¸€ç”Ÿã‚’éä¸è¶³ãªãæãã€ç´ æ™´ã‚‰ã—ã‹ã£ãŸã€‚ãŸã¶ã‚“ä»Šå¹´1ç•ªã®å°èª¬ã‹ã‚‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;ãƒãƒ¼ãƒ†ã‚£ãƒ³ãƒ»ã‚¤ãƒ¼ãƒ‡ãƒ³ï¼ˆã‚¸ãƒ£ãƒƒã‚¯ãƒ»ãƒ­ãƒ³ãƒ‰ãƒ³ã€è¾»äº•æ „æ»‹è¨³ï¼‰

&lt;ul&gt;
&lt;li&gt;èˆ¹ä¹—ã‚Šã‹ã‚‰å°èª¬å®¶ã¸ã€‚åŠ´åƒè€…éšç´šã€ãƒ–ãƒ«ã‚¸ãƒ§ãƒ¯ã€å“²å­¦ãªã©ãªã‹ãªã‹æ¿€ã—ã‹ã£ãŸã€‚å°‘ã—å†—é•·çš„ãªã¨ã“ã‚ã‚‚ã‚ã‚‹ã‘ã©ã€ã“ã¡ã‚‰ã‚‚ç´ æ™´ã‚‰ã—ã‹ã£ãŸ&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;ã‚¸ã‚§ã‚¤ãƒ³ãƒ»ã‚¨ã‚¢ï¼ˆã‚·ãƒ£ãƒ¼ãƒ­ãƒƒãƒˆãƒ»ãƒ–ãƒ­ãƒ³ãƒ†ã€æ²³å³¶å¼˜ç¾è¨³ï¼‰

&lt;ul&gt;
&lt;li&gt;å¥³æ€§ã®æ¿€å‹•ã®ä¸€ç”Ÿã€‚å½“æ™‚ã®è²´æ—ã‚„å®—æ•™è¦³ã‚’å°èª¬è¶Šã—ã«è¦‹ã‚‹ã®å¥½ãã ãªãƒ¼&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ä»–ã«ã‚‚ã‚¸ãƒ§ãƒ³ãƒ»ã‚¢ãƒƒãƒ—ãƒ€ã‚¤ã‚¯ã‚„ã‚¸ãƒ§ãƒ³ãƒ»ãƒãƒ¼ãƒ´ã‚¡ãƒ¼ãªã©ã€ä»Šå¹´åˆã‚ã¦èª­ã‚“ã ä½œå®¶ã•ã‚“ãŒå¤šã‹ã£ãŸã€‚&lt;br&gt;
ã‚¸ãƒ§ãƒ³ãƒ»ãƒãƒ¼ãƒ´ã‚¡ãƒ¼ã‚ˆã‚Šã‚‚ãƒ¬ã‚¤ãƒ¢ãƒ³ãƒ‰ãƒ»ã‚«ãƒ¼ãƒ´ã‚¡ãƒ¼ã®ã»ã†ãŒå¥½ããªã“ã¨ãŒã‚ã‹ã£ãŸã‘ã©ã€ãŸã¶ã‚“é™°é¬±ã®è¡¨ç¾ã®å·®ã‹ãªã¨æ€ã£ãŸã€‚&lt;/p&gt;

&lt;h4&gt;æŠ€è¡“æ›¸&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;OAuthå¾¹åº•å…¥é–€

&lt;ul&gt;
&lt;li&gt;æ›–æ˜§ã ã£ãŸã®ã§è‰²ã€…ã¨å‹‰å¼·ã«ãªã£ãŸ&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Web API The Good Parts

&lt;ul&gt;
&lt;li&gt;ç›®æ–°ã—ã„ã“ã¨ã¯ãªã‹ã£ãŸã‘ã©ã€ã‚ã‹ã‚Šã‚„ã™ãã¾ã¨ã¾ã£ã¦ã„ã¦ã‚ˆã‹ã£ãŸ&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Swiftå®Ÿè·µå…¥é–€

&lt;ul&gt;
&lt;li&gt;ä»Šå¹´ã«å…¥ã£ã¦ã‹ã‚‰å°‘ã—ãšã¤æ›¸ã„ã¦ã‚‹ã‘ã©ãªã‹ãªã‹æ…£ã‚Œãªã„&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;iOSå‘¨ã‚Šã¯å‹‰å¼·æ™‚é–“ã‚„ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ãŸæ™‚é–“ãŒå°‘ãªã‹ã£ãŸã®ã§ã€ä¸‹åŠæœŸã¯ã‚‚ã£ã¨ã‚³ãƒ¼ãƒ‰æ›¸ã“ã€‚&lt;/p&gt;

&lt;h4&gt;ãã®ä»–&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;NO HARD WORK!

&lt;ul&gt;
&lt;li&gt;ç›¸å¤‰ã‚ã‚‰ãšã®Basecampç¯€ï¼&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;ã€Œã‚¨ãƒ³ã‚¿ãƒ¡ã€ã®å¤œæ˜ã‘

&lt;ul&gt;
&lt;li&gt;ãƒ‡ã‚£ã‚ºãƒ‹ãƒ¼ã‚’èª˜è‡´ã—ãŸè©±ã§ã€å½“æ™‚ã®ãƒ“ã‚¸ãƒã‚¹ãŒå£é–“è¦‹ã‚Œã¦æ¥½ã—ã‹ã£ãŸã€‚ã“ã®æœ¬è‡ªä½“ã‚‚ã‚¨ãƒ³ã‚¿ãƒ¡ã‚„ã­&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;hr&gt;

&lt;p&gt;ä¸ŠåŠæœŸã¯ç´„30å†Šï¼ˆæ¼«ç”»é™¤ãï¼‰ã—ã‹èª­ã‚ãªã‹ã£ãŸã‘ã©ã€ã‚ã¾ã‚Šãƒã‚ºãƒ¬ãŒç„¡ã‹ã£ãŸå°è±¡ã€‚&lt;br&gt;
å®šæœŸçš„ã«ãƒ–ãƒ­ã‚°ã‚’æ›¸ã„ã¦ã„ã“ã†ã¨æ€ã£ãŸã‘ã©ã€æ›¸ãã®ã«æ…£ã‚Œã¦ã„ãªã„ã®ã§é›£ã—ã„â€¦&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>Capybara Webkitã‹ã‚‰Headless Chromeã«ç§»è¡Œ</title>
    <link rel="alternate" href="https://rono23.com/posts/replace-capybara-webkit-with-headless-chrome/"/>
    <id>https://rono23.com/posts/replace-capybara-webkit-with-headless-chrome/</id>
    <published>2017-09-11T00:00:00+09:00</published>
    <updated>2020-02-11T23:08:43+09:00</updated>
    <author>
      <name>rono23</name>
    </author>
    <content type="html">&lt;p&gt;ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# Gemfile
group :test do
  gem &amp;#39;selenium-webdriver&amp;#39;
  gem &amp;#39;chromedriver-helper&amp;#39;
  ...
end
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;chromedriver&lt;/code&gt; ã¯ &lt;code&gt;brew install chromedriver&lt;/code&gt; ã™ã‚‹ã‹ã€ä¸Šè¨˜ã®ã‚ˆã†ã«gemã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã¨æ¥½ã ã‘ã©ã€gemã®å ´åˆã€&lt;a href="https://github.com/flavorjones/chromedriver-helper#updating-to-latest-chromedriver"&gt;ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ&lt;/a&gt;ã«ã¤ã„ã¦å°‘ã—å¿µé ­ã«å…¥ã‚Œã¦ãŠã„ãŸã»ã†ãŒã„ã„ã‹ã‚‚ã€‚&lt;br&gt;
CircleCIã ã¨imageã« &lt;code&gt;circleci/ruby:2.4.1-node-browsers&lt;/code&gt; ã‚’æŒ‡å®šã—ã¦ã„ã‚Œã° &lt;code&gt;chromedriver&lt;/code&gt; ã¨ã‹è‰²ã€…ã¨å…¥ã‚Œã¦ãã‚Œã¦ã€ç‰¹ã«è¨­å®šç­‰ã—ãªãã¦ã‚‚å‹•ãã€‚&lt;/p&gt;

&lt;p&gt;è¨­å®š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# spec/rails_helper.rb
require &amp;#39;selenium/webdriver&amp;#39;

...

Capybara.register_driver :headless_chrome do |app|
  capabilities = Selenium::WebDriver::Remote::Capabilities.chrome(
    chromeOptions: { args: %w(headless disable-gpu window-size=1280,800) }
  )

  Capybara::Selenium::Driver.new app, browser: :chrome, desired_capabilities: capabilities
end
Capybara.javascript_driver = :headless_chrome
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¿®æ­£ãŒå¿…è¦ã ã£ãŸã®ã¯ &lt;code&gt;trigger&lt;/code&gt;, &lt;code&gt;alert&lt;/code&gt;, &lt;code&gt;drag_to&lt;/code&gt; å‘¨ã‚Šã§ã€æœ€æ–°ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã ã¨ &lt;code&gt;save_and_open_screenshot&lt;/code&gt; ã‚‚æ­£å¸¸ã«å‹•ä½œã—ã¾ã—ãŸã€‚&lt;/p&gt;

&lt;p&gt;Versions&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;/Applications/Google\ Chrome.app/Contents/MacOS/Google\ Chrome --version
Google Chrome 61.0.3163.79

chromedriver -v
ChromeDriver 2.32.498537
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;trigger&lt;/code&gt; ã®å‰Šé™¤&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# before
find(&amp;#39;i.icon-cancel&amp;#39;).trigger(&amp;#39;click&amp;#39;)

# after
find(&amp;#39;i.icon-cancel&amp;#39;).click
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;alert&lt;/code&gt; ã®ä¿®æ­£&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# before
click_button I18n.t(:subscribe)

# after
accept_confirm { click_button I18n.t(:subscribe) }
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;drag_to&lt;/code&gt; ã®ä¿®æ­£&lt;/p&gt;

&lt;p&gt;ä»¥ä¸‹ã®ã‚ˆã†ãªæ¡ä»¶ãŒã‚ã‚‹ã¨ &lt;code&gt;drag_to&lt;/code&gt; ãŒå‹•ã‹ãªããªã£ãŸã®ã§ã€CSSã§ &lt;code&gt;width&lt;/code&gt; ã‚’å¤§ãã‚ã«è¨­å®šã—ãŸã‚‰å‹•ã„ãŸã€‚&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;&amp;lt;span class=&amp;#39;draggable&amp;#39;&amp;gt;&amp;lt;i class=&amp;#39;fa fa-arrows-v&amp;#39;&amp;gt;&amp;lt;/i&amp;gt;&amp;lt;/span&amp;gt;&lt;/code&gt; ã‚ˆã†ãªã‚¢ã‚¤ã‚³ãƒ³ã ã‘&lt;/li&gt;
&lt;li&gt;CSSã§ &lt;code&gt;.draggable { position: absolute; right: -100px; }&lt;/code&gt; ã¿ãŸã„ãªã“ã¨&lt;/li&gt;
&lt;li&gt;window ã‚µã‚¤ã‚ºãŒæœªè¨­å®šï¼ˆä¸Šè¨˜è¨­å®šã§ &lt;code&gt;window-size=1280,800&lt;/code&gt; ã—ãŸã®ã¯ã“ã®ãŸã‚ï¼‰&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å‚è€ƒ&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href="https://developers.google.com/web/updates/2017/04/headless-chrome?hl=ja"&gt;ãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹ Chrome ã“ã¨ã¯ã˜ã‚&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://robots.thoughtbot.com/headless-feature-specs-with-chrome"&gt;Headless Capybara Feature Specs with Chrome&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://sites.google.com/a/chromium.org/chromedriver/getting-started"&gt;ChromeDriver - WebDriver for Chrome&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/flavorjones/chromedriver-helper"&gt;flavorjones/chromedriver-helper&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
  </entry>
  <entry>
    <title>Webpackerã§å…¥ã‚ŒãŸVueã«ESLintã‚’ä½¿ã†</title>
    <link rel="alternate" href="https://rono23.com/posts/vue-with-eslint-on-webpacker/"/>
    <id>https://rono23.com/posts/vue-with-eslint-on-webpacker/</id>
    <published>2017-09-08T00:00:00+09:00</published>
    <updated>2020-02-11T23:08:43+09:00</updated>
    <author>
      <name>rono23</name>
    </author>
    <content type="html">&lt;p&gt;ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;yarn add --dev eslint eslint-loader eslint-plugin-import eslint-config-airbnb-base eslint-plugin-vue@beta
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¨­å®š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;// .eslintrc
{
  env: {
    browser: true
  },
  &amp;#39;extends&amp;#39;: [
    &amp;#39;airbnb-base&amp;#39;,
    &amp;#39;plugin:vue/recommended&amp;#39;
  ]
}
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;// config/webpack/development.js
const environment = require(&amp;#39;./environment&amp;#39;)

environment.loaders.set(&amp;#39;eslint&amp;#39;, {
  test: /\.(js|vue)$/,
  loader: &amp;#39;eslint-loader&amp;#39;,
  enforce: &amp;#39;pre&amp;#39;,
  options: {
    failOnWarning: true
  }
})

module.exports = environment.toWebpackConfig()
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;options&lt;/code&gt; ã®è¨­å®šã¯&lt;a href="https://github.com/MoOx/eslint-loader#options"&gt;å…¬å¼&lt;/a&gt;ã‚’å‚è€ƒã«ã€ä¾‹ãˆã° &lt;code&gt;failOnWarning: true&lt;/code&gt; ã ã¨buildã«å¤±æ•—ã—ã¦ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚„ãƒ­ã‚°ã«ã‚¨ãƒ©ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã¦ã€ &lt;code&gt;failOnWarning: false&lt;/code&gt; ã«ã™ã‚‹ã¨buildã¯ã¨ãŠã£ã¦ãƒ­ã‚°ã«ã ã‘ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒæ®‹ã‚‹ã€‚&lt;/p&gt;
</content>
  </entry>
</feed>
